<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="StarSpell Academy — a welcoming magical school portal for curious minds." />
    <title>StarSpell Academy</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header class="header" role="banner">
      <nav class="nav container" aria-label="Primary">
        <a class="brand" href="#top" aria-label="Home">
          <span class="brandText">StarSpell Academy</span>
        </a>

        <button class="iconBtn navToggle" id="navToggle" aria-expanded="false" aria-controls="navLinks">
          <span class="srOnly">Open menu</span>
          <span class="hamburger" aria-hidden="true"></span>
        </button>

        <div class="navLinks" id="navLinks">
          <a href="./quiz.html" target="_blank" rel="noopener">Sorting quiz</a>
          <a href="./lore-board.html">Lore archive</a>
          <a href="#board">Lore board</a>
          <a href="#contact">Send an owl</a>
        </div>
      </nav>
    </header>

    <main id="main">
      <!-- LANDING -->
      <section id="top" class="landing">
        <div class="container landingGrid">
          <div class="landingCopy">
            <p class="kicker">StarSpell Academy</p>
            <h1>StarSpell Academy</h1>

            <div class="actionRow">
              <a class="btn heroCta" href="./quiz.html" target="_blank" rel="noopener">Take the sorting quiz</a>
            </div>
          </div>
        </div>
      </section>

      <!-- LORE BOARD -->
      <section id="board" class="section alt">
        <div class="container">
          <div class="sectionHead">
            <h2>The Lore Board</h2>
          </div>

          <div class="postFeed" id="postFeed" data-lore-feed data-limit="3" aria-live="polite">
            <p class="muted">Fetching today&apos;s notices...</p>
          </div>
        </div>
      </section>

      <!-- SUPABASE COMMUNITY -->
      <section id="community" class="section">
        <div class="container">
          <div class="sectionHead">
            <h2>Share your notes</h2>
          </div>

          <div class="card">
            <div class="actionRow" style="align-items: flex-start; gap: 1rem; flex-wrap: wrap;">
              <div>
                <p class="kicker">Dedicated portal</p>
                <h3>Sign in to post new notices</h3>
                <p class="muted">
                  Use the login portal to manage your StarSpell account and share fresh notes with the community.
                </p>
              </div>
              <div class="actionRow" style="gap: 0.75rem;">
                <a class="btn primary" href="./portal.html">Open the login portal</a>
                <a class="btn ghost" href="#supabaseFeed">Browse recent posts</a>
              </div>
            </div>
          </div>

          <div class="postFeed" id="supabaseFeed" aria-live="polite">
            <p class="muted">Loading posts...</p>
          </div>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact" class="section alt">
        <div class="container">
          <div class="contactGrid">
            <div class="contactCard">
              <h3>Send an owl</h3>

              <form id="contactForm" novalidate>
                <div class="field">
                  <label for="name">Name</label>
                  <input id="name" name="name" type="text" autocomplete="name" required minlength="2" />
                  <p class="error" data-for="name" aria-live="polite"></p>
                </div>

                <div class="field">
                  <label for="email">Email</label>
                  <input id="email" name="email" type="email" autocomplete="email" required />
                  <p class="error" data-for="email" aria-live="polite"></p>
                </div>

                <div class="field">
                  <label for="message">Message</label>
                  <textarea id="message" name="message" rows="5" required minlength="10"></textarea>
                  <p class="error" data-for="message" aria-live="polite"></p>
                </div>

                <div class="actions">
                  <button class="btn primary" type="submit">Send</button>
                </div>

                <p class="muted small" id="formStatus" aria-live="polite"></p>
              </form>
            </div>

          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container footerRow">
        <p class="muted small">© <span id="year"></span> StarSpell Academy. May your path stay bright.</p>
        <a class="muted small" href="#top">Back to the stars ↑</a>
      </div>
    </footer>

    <script src="./script.js" defer></script>
    <script type="module" src="./js/app.js"></script>
  </body>
</html>
